## åˆ¤æ–­æ˜¯ä¸æ˜¯ Object?

### typeof null è¿”å› objectï¼Œ ä¸ºä»€ä¹ˆï¼Ÿ
1995å¹´JavaScriptè¯­è¨€çš„ç¬¬ä¸€ç‰ˆï¼Œæ‰€æœ‰å€¼éƒ½è®¾è®¡æˆ32ä½ï¼Œå…¶ä¸­æœ€ä½çš„3ä½ç”¨æ¥è¡¨è¿°æ•°æ®ç±»å‹ï¼Œobjectå¯¹åº”çš„å€¼æ˜¯000ã€‚
å½“æ—¶ï¼Œåªè®¾è®¡äº†äº”ç§æ•°æ®ç±»å‹ï¼ˆå¯¹è±¡ã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼‰,å®Œå…¨æ²¡è€ƒè™‘nullï¼ŒåªæŠŠå®ƒå½“ä½œobjectçš„ä¸€ç§ç‰¹æ®Šå€¼ï¼Œ32ä½å…¨éƒ¨ä¸º0ã€‚ è¿™æ˜¯typeof nullè¿”å›objectçš„æ ¹æœ¬åŸå› ã€‚

åŸç†æ˜¯è¿™æ ·çš„ï¼Œä¸åŒçš„å¯¹è±¡åœ¨åº•å±‚éƒ½è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶ï¼Œåœ¨ JavaScript ä¸­äºŒè¿›åˆ¶å‰ä¸‰ä½éƒ½ä¸º 0 çš„è¯ä¼šè¢«åˆ¤æ–­ä¸º object ç±»å‹ï¼Œ null çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯å…¨ 0ï¼Œè‡ªç„¶å‰ä¸‰ä½ä¹Ÿæ˜¯ 0ï¼Œæ‰€ä»¥æ‰§è¡Œ typeof æ—¶ä¼šè¿”å›â€œ object â€ã€‚
è¿™ä¸ªbugæ˜¯ç¬¬ä¸€ç‰ˆJavascriptç•™ä¸‹æ¥çš„ã€‚åœ¨è¿™ä¸ªç‰ˆæœ¬ï¼Œæ•°å€¼æ˜¯ä»¥32å­—èŠ‚å­˜å‚¨çš„ï¼Œç”±æ ‡å¿—ä½ï¼ˆ1~3ä¸ªå­—èŠ‚ï¼‰å’Œæ•°å€¼ç»„æˆã€‚æ ‡å¿—ä½å­˜å‚¨çš„æ˜¯ä½ä½çš„æ•°æ®ã€‚
è¿™é‡Œæœ‰äº”ç§æ ‡å¿—ä½ï¼š
(1) 000ï¼šå¯¹è±¡ï¼Œæ•°æ®æ˜¯å¯¹è±¡çš„åº”ç”¨ã€‚
(2) 001ï¼šæ•´å‹ï¼Œæ•°æ®æ˜¯31ä½å¸¦ç¬¦å·æ•´æ•°ã€‚
(3) 010ï¼šåŒç²¾åº¦ç±»å‹ï¼Œæ•°æ®æ˜¯åŒç²¾åº¦æ•°å­—ã€‚ åŒç²¾åº¦æµ®ç‚¹å‹
(4) 100ï¼šå­—ç¬¦ä¸²ï¼Œæ•°æ®æ˜¯å­—ç¬¦ä¸²ã€‚
(5) 110ï¼šå¸ƒå°”ç±»å‹ï¼Œæ•°æ®æ˜¯å¸ƒå°”å€¼ã€‚
æœ€ä½ä½æœ‰ä¸€ä½ï¼Œé‚£ä¹ˆæ ‡å¿—ä½åªæœ‰ä¸€ä¸ª1å­—èŠ‚é•¿åº¦ï¼›æˆ–è€…æ˜¯é›¶ä½ï¼Œæ ‡å¿—ä½æœ‰3ä¸ªå­—èŠ‚é•¿åº¦ï¼Œå¤šå‡ºä¸¤ä¸ªäº†å­—èŠ‚ï¼Œä¸€å…±å¤šå‡ºå››ç§ç±»å‹ã€‚

**ä¸ºä»€ä¹ˆä¸ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Ÿ**

å› ä¸ºå¤§å®¶éƒ½é»˜è®¤äº†è¿™ä¸ª bug å¹¶åŸºäºè¿™ä¸ª bug ä¸Šä¿®æ”¹ï¼Œå¦‚æœä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆå°±ä¼šå¼•å‘ä¿®å¤è¿™ä¸ªé—®é¢˜è€Œå¯¼è‡´çš„é—®é¢˜


### ä¸€å…ƒè¿ç®—ç¬¦ + è½¬ä¸ºæ•°å­—
``` javascript
const print = console.log;

function toNumber(val) {
    const result = +val;
    print(result);
    return result
}

// ä¼ ç»Ÿæ•°æ®ç±»å‹
// toNumber(null) // NaN
// toNumber(undefined) // NaN
// toNumber(1) // 1
// toNumber("123aa") // NaN
// toNumber({}) // NaN
// toNumber(true) // 1


// ES6 BigInt å’Œ Symbol
toNumber(10n) // TypeError: Cannot convert a BigInt value to a number

toNumber(Symbol.for("a"))  //TypeError: Cannot convert a Symbol value to a number
```

### ä½ç§»è½¬ä¸ºæ•°å­—

```
>>   æœ‰ç¬¦å·ä½ç§» 
>>>  æ— ç¬¦å·ä½ç§»
```

``` javascript
const print = console.log;
function toNumber(val){
    const result = val >> 0
    print(result)
    return result
}
function toNumber2(val){
    const result = val >>> 0
    print(result)
    return result
}

// toNumber(null)  // 0
// toNumber({})    // 0
// toNumber("10x") // 0
// toNumber("10")  // 10



// è¶…å¤§çš„æ•°
toNumber(Number.MAX_SAFE_INTEGER)   // -1
toNumber2(Number.MAX_SAFE_INTEGER)  // 4294967295 



// toNumber2(Number.MAX_SAFE_INTEGER)  => 4294967295 

var val = Number.MAX_SAFE_INTEGER.toString(2)  
// 11111111111111111111111111111111111111111111111111111
var val1 = val.substring(0,32) 
// 11111111111111111111111111111111

var num = parseInt(val1, 2)
// 4294967295

// console.log(num)



// toNumber(Number.MAX_SAFE_INTEGER)   => -1
// æœ‰ç¬¦å·æ•°å­—ï¼Œæœ€é«˜ä½ä¸ºç¬¦å·ä½ã€‚

// åè¿›åˆ¶å˜äºŒè¿›åˆ¶ï¼šåŸç  => åç  åŠ ä¸€ï¼ˆè¡¥ç ï¼‰
// äºŒè¿›åˆ¶å˜åè¿›åˆ¶ï¼šå‡ä¸€ =>åç  = åŸç ã€‚

var val = Number.MAX_SAFE_INTEGER.toString(2)  
// 11111111111111111111111111111111111111111111111111111

var val1 = val.substring(0,32)
// 11111111111111111111111111111111

// å‡1
// 11111111111111111111111111111110

// å–å, 
// 00000000000000000000000000000001  = 1

// å› ä¸ºå…¶æœ€é«˜ä½1æ˜¯è´Ÿæ•°
-1

```

ç–‘é—®ğŸ¤”ï¸ï¼š
- Number.MAX_SAFE_INTEGER æ˜¯å¤šå°‘ï¼Ÿ
ç­”ï¼š 9007199254740991

- BigInt ï¼Œ Symbol èƒ½è½¬æ¢å—ï¼Ÿ
ç­”ï¼šä¸èƒ½è½¬æ¢. 
    BinInt >>> 0 : TypeError: Cannot mix BigInt and other types, use explicit conversions


### å­—ç¬¦ä¸²æ‰¹é‡è½¬æ¢æ•´æ•°

```
var results = ["1", "2", "3"].map(parseInt);
console.log(results);  // [1, NaN, NaN]


["1", "2", "3"].map((val,index)=> parseInt(val,index))
// parseInt("1",0) 1
// parseInt("2",1) 
// parseInt("3",2)

// parseInt(string, radix) è§£æä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›æŒ‡å®šåŸºæ•°çš„åè¿›åˆ¶æ•´æ•°ï¼Œradix æ˜¯ 2-36 ä¹‹é—´çš„æ•´æ•°ï¼Œè¡¨ç¤ºè¢«è§£æå­—ç¬¦ä¸²çš„åŸºæ•°ã€‚
```

### if åˆ¤æ–­æ¡ä»¶
å“ªäº›å€¼è½¬åŒ–ä¸ºå¸ƒå°”å€¼æ˜¯ falseï¼Ÿ
- 0
- ''
- NaN
- undefined
- null
- false


### å®½æ¾æ¯”è¾ƒ

- NaN 
  - ä¸ä»»ä½•äººä¸ç­‰åŒ…æ‹¬è‡ªå·±

- BigInt ä¸ Symbol
  - ä¼˜å…ˆæ¯”è¾ƒæ˜¯å¦åŒç±»å‹
  - ä¸åŒç±»å‹åˆ™ä¸ç­‰

- Null undefined
  - null åªä¼šä¸ null å’Œ undefined æƒ³ç­‰
  - undefined åªä¼šä¸ null å’Œ undefined æƒ³ç­‰

- å¸ƒå°”ç±»å‹å’Œå…¶ä»–ç±»å‹çš„ç›¸ç­‰æ¯”è¾ƒ
  - å¸ƒå°”ä¼šå…ˆè½¬åŒ–ä¸ºæ•°å­—


- æ•°å­—ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹çš„ç›¸ç­‰æ¯”è¾ƒ
  - string ä¼šè½¬åŒ–ä¸ºæ•°å­—

- å¯¹è±¡ç±»å‹å’ŒåŸå§‹ç±»å‹çš„ç›¸ç­‰æ¯”è¾ƒ
  - å¯¹è±¡å…ˆè½¬ä¸ºåŸå§‹ç±»å‹

ç–‘é—®ï¼š å¯¹è±¡ä¸å¯¹è±¡å¦‚ä½•æ¯”è¾ƒï¼Ÿ

ä¾‹å­ï¼š
- null == 0
  - è§£ç­”ï¼š nullåªä¼šä¸ null å’Œ undefined ç›¸ç­‰ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸º false

- '0' == false
  - å¸ƒå°”ç±»å‹å’Œå…¶ä»–ç±»å‹çš„ç›¸ç­‰æ¯”è¾ƒ,å¸ƒå°”ä¼šå…ˆè½¬ä¸ºæ•°å­—ï¼Œæ‰€ä»¥ '0' == 0,æ¥ç€æ•°å­—ä¸å­—ç¬¦ä¸²æ¯”è¾ƒï¼Œåˆ™å­—ç¬¦ä¸²ä¼šè½¬ä¸ºæ•°å­—ï¼Œäºæ˜¯ 0 == 0 æ‰€ä»¥ç­”æ¡ˆä¸º true

### åŠ é¤

#### typeof æ€§èƒ½æ¯” instanceof æ€§èƒ½é«˜20å€ï¼Ÿ
ç­”æ¡ˆï¼š åŸºäºä¸€åƒä¸‡æ¬¡è®¡ç®—æ¯”è¾ƒã€‚typeof é€Ÿåº¦è¾ƒå¿«ï¼Œä½†ä¹Ÿåªæ˜¯æ¯” instanceof  é«˜2-3å€ã€‚å–å†³äºåŸå‹é“¾çš„é•¿çŸ­

#### null å’Œ undefined å®ç°æœºåˆ¶å®Œå…¨ä¸ä¸€æ ·ï¼Ÿ
null æ˜¯ä¸€ä¸ªå…³é”®å­—
undefined æ˜¯ä¸€ä¸ªå˜é‡

```
// nullå’Œundefined
var print = console.log;
print(Object.getOwnPropertyDescriptor(global, 'null'))
// undefined

print(Object.getOwnPropertyDescriptor(global, 'undefined'))

//{
//value: undefined,
//writable: false,
//enumerable: false,
//configurable: false
//}

```


#### åˆ¤æ–­æ˜¯ä¸æ˜¯æ•°å­—
isNaN()